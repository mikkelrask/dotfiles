#!/bin/sh
# Called in .i3/config
# Requires: nmcli, notify-sed

# Simple makefile to connect to wifi. Simply change YouSSIDHere and YourPasswordHere in the next line, and uncomment that, and the sleep line. 
# After that we do a simple check to se if we're able to ping google through their 8.8.8.8 DNS. 
# Confirm stauts both in CLI and GUI (requires notify-send)

#nmcli device wifi connect YouSSIDHere password YourPasswordHere 
#sleep 3 # added a 3 second sleep to wait and see if we successfully connected
if ping -q -c 1 -W 1 8.8.8.8 >/dev/null; then
    notify-send 'Network Manager:' ' Wifi is Up. System is able to call Google Inc. (8.8.8.8)' -t 2000
    echo "IPv4 is up"
else
    notify-send 'Network Manager:' ' Wifi seems Down. Did not connect to Google Inc. (8.8.8.8). Please check connection.' -t 2000
    echo "IPv4 is down"
fi
